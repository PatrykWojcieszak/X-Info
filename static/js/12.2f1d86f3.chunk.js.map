{"version":3,"sources":["Modules/Starlink/Starlink.module.scss","Queries/StarlinkQuery.ts","Store/Starlink/actions.ts","Modules/Starlink/Starlink.tsx"],"names":["module","exports","StarlinkQuery","query","longitude","$ne","options","pagination","fetchStarlink","dispatch","type","FETCH_STARLINK_START","axios","post","then","res","newStarlink","data","FETCH_STARLINK_SUCCESS","payload","catch","err","error","FETCH_STARLINK_FAIL","connect","state","starlinks","starlink","loadingStarlinks","loading","onFetchStarlink","props","useEffect","interval","setInterval","clearInterval","gData","docs","map","tle","spaceTrack","TLE_LINE0","substring","length","TLE_LINE1","TLE_LINE2","latLonObj","getLatLngObj","push","lat","lng","alt","radius","color","label","OBJECT_NAME","globe","globeImageUrl","pointsData","pointAltitude","pointColor","pointLabel","showGraticules","pointRadius","div","initial","animate","exit","variants","pageVariantsAnim","className","styles","Starlink","StarlinkInfo","target","rel","href"],"mappings":"4FACAA,EAAOC,QAAU,CAAC,SAAW,2BAA2B,aAAe,+BAA+B,eAAiB,mC,uICUxGC,EAXO,CACpBC,MAAO,CACLC,UAAW,CACTC,IAAK,OAGTC,QAAS,CACPC,YAAY,I,QC0BT,IAAMC,EAAgB,WAC3B,OAAO,SAACC,GACNA,EAvBK,CACLC,KAAMC,MAwBNC,IACGC,KACC,+CACAX,GAEDY,MAAK,SAACC,GAzBN,IACLC,EAyBMP,GAzBNO,EAyBoCD,EAAIE,KAvBjC,CACLP,KAAMQ,IACNC,QAASH,QAuBNI,OAAM,SAACC,GAnBP,IAA2BC,EAoB1Bb,GApB0Ba,EAoBCD,EAnB1B,CACLX,KAAMa,IACNJ,QAASG,UCmFEE,uBAbS,SAACC,GACvB,MAAO,CACLC,UAAWD,EAAME,SAASD,UAC1BE,iBAAkBH,EAAME,SAASE,YAIV,SAACpB,GAC1B,MAAO,CACLqB,gBAAiB,kBAAMrB,EAASD,SAIrBgB,EA9FE,SAACO,GAAW,IACnBD,EAA+BC,EAA/BD,gBAAiBJ,EAAcK,EAAdL,UAEzBM,qBAAU,WACR,IAAMC,EAAWC,aAAY,WAC3BJ,MACC,KAEH,OAAO,WACLK,cAAcF,MAEf,CAACH,IAEJ,IAAMM,EAAoB,GACtBV,GACFA,EAAUW,KAAKC,KAAI,SAACX,GAClB,IAKMY,GALI,OAAGZ,QAAH,IAAGA,OAAH,EAAGA,EAAUa,WAAWC,UAAUC,UAC1C,EADW,OAEXf,QAFW,IAEXA,OAFW,EAEXA,EAAUa,WAAWC,UAAUE,SAK/B,OADA,OAEAhB,QAFA,IAEAA,OAFA,EAEAA,EAAUa,WAAWI,WACrB,MAHA,OAIAjB,QAJA,IAIAA,OAJA,EAIAA,EAAUa,WAAWK,WAEjBC,EAAYC,uBAAaR,GAE/BH,EAAMY,KAAK,CACTC,IAAKH,EAAUG,IACfC,IAAKJ,EAAUI,IACfC,IAAK,GACLC,OAAQ,IACRC,MAAO,QACPC,MAAO3B,EAASa,WAAWe,iBAKjC,IAAIC,EAAQ,6BAgBZ,OAdIpB,IACFoB,EACE,cAAC,IAAD,CACEC,cAAc,sDACdC,WAAYtB,EACZuB,cAAe,KACfC,WAAW,QACXC,WAAW,QACXC,gBAAc,EACdC,YAAa,OAMjB,eAAC,IAAOC,IAAR,CACEC,QAAQ,UACRC,QAAQ,KACRC,KAAK,MACLC,SAAUC,IACVC,UAAWC,IAAOC,SALpB,UAME,sBAAKF,UAAWC,IAAOE,aAAvB,UACE,0CACA,+BACE,yCADF,8DAEiB,IACf,mBAAGC,OAAO,SAASC,IAAI,sBAAsBC,KAAK,iBAAlD,oBAEK,IALP,0CAQA,0DAA6B7C,EAAML,UAAUW,KAAKM,aAEnDa","file":"static/js/12.2f1d86f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Starlink\":\"Starlink_Starlink__3XQrk\",\"StarlinkInfo\":\"Starlink_StarlinkInfo__pjfNh\",\"SpinnerWrapper\":\"Starlink_SpinnerWrapper__14jJi\"};","const StarlinkQuery = {\r\n  query: {\r\n    longitude: {\r\n      $ne: null,\r\n    },\r\n  },\r\n  options: {\r\n    pagination: false,\r\n  },\r\n};\r\n\r\nexport default StarlinkQuery;\r\n","import axios from \"axios\";\r\nimport IQueryResult from \"../../Models/IQueryResult\";\r\nimport IStarlink from \"../../Models/IStarlink\";\r\nimport StarlinkQuery from \"../../Queries/StarlinkQuery\";\r\nimport {\r\n  FETCH_STARLINK_START,\r\n  FETCH_STARLINK_SUCCESS,\r\n  FETCH_STARLINK_FAIL,\r\n  StarlinkTypes,\r\n} from \"./types\";\r\n\r\nexport function fetchStarlinkStart(): StarlinkTypes {\r\n  return {\r\n    type: FETCH_STARLINK_START,\r\n  };\r\n}\r\n\r\nexport function fetchStarlinkSuccess(\r\n  newStarlink: IQueryResult<IStarlink>\r\n): StarlinkTypes {\r\n  return {\r\n    type: FETCH_STARLINK_SUCCESS,\r\n    payload: newStarlink,\r\n  };\r\n}\r\n\r\nexport function fetchStarlinkFail(error: string): StarlinkTypes {\r\n  return {\r\n    type: FETCH_STARLINK_FAIL,\r\n    payload: error,\r\n  };\r\n}\r\n\r\nexport const fetchStarlink = () => {\r\n  return (dispatch) => {\r\n    dispatch(fetchStarlinkStart());\r\n\r\n    axios\r\n      .post<IQueryResult<IStarlink>>(\r\n        \"https://api.spacexdata.com/v4/starlink/query\",\r\n        StarlinkQuery\r\n      )\r\n      .then((res) => {\r\n        dispatch(fetchStarlinkSuccess(res.data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(fetchStarlinkFail(err));\r\n      });\r\n  };\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { getLatLngObj } from \"tle.js\";\r\nimport Globe from \"react-globe.gl\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport styles from \"./Starlink.module.scss\";\r\nimport { motion } from \"framer-motion\";\r\nimport { pageVariantsAnim } from \"../../Animations/Animations_motion\";\r\nimport { fetchStarlink } from \"../../Store/Starlink/actions\";\r\ninterface IMapData {\r\n  lat: number;\r\n  lng: number;\r\n  alt: number;\r\n  radius: number;\r\n  color: string;\r\n  label: string;\r\n}\r\n\r\nconst Starlink = (props) => {\r\n  const { onFetchStarlink, starlinks } = props;\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      onFetchStarlink();\r\n    }, 3000);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [onFetchStarlink]);\r\n\r\n  const gData: IMapData[] = [];\r\n  if (starlinks) {\r\n    starlinks.docs.map((starlink) => {\r\n      const TLE0 = starlink?.spaceTrack.TLE_LINE0.substring(\r\n        2,\r\n        starlink?.spaceTrack.TLE_LINE0.length\r\n      );\r\n\r\n      const tle =\r\n        TLE0 +\r\n        \" \\n\" +\r\n        starlink?.spaceTrack.TLE_LINE1 +\r\n        \"\\n\" +\r\n        starlink?.spaceTrack.TLE_LINE2;\r\n\r\n      const latLonObj = getLatLngObj(tle);\r\n\r\n      gData.push({\r\n        lat: latLonObj.lat,\r\n        lng: latLonObj.lng,\r\n        alt: 0.9,\r\n        radius: 0.01,\r\n        color: \"white\",\r\n        label: starlink.spaceTrack.OBJECT_NAME,\r\n      });\r\n    });\r\n  }\r\n\r\n  let globe = <></>;\r\n\r\n  if (gData) {\r\n    globe = (\r\n      <Globe\r\n        globeImageUrl=\"//unpkg.com/three-globe/example/img/earth-night.jpg\"\r\n        pointsData={gData}\r\n        pointAltitude={0.001}\r\n        pointColor=\"color\"\r\n        pointLabel=\"label\"\r\n        showGraticules\r\n        pointRadius={0.35}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial=\"initial\"\r\n      animate=\"in\"\r\n      exit=\"out\"\r\n      variants={pageVariantsAnim}\r\n      className={styles.Starlink}>\r\n      <div className={styles.StarlinkInfo}>\r\n        <h2>STARLINK</h2>\r\n        <h3>\r\n          <b>Starlink</b> is a satellite internet constellation being\r\n          constructed by{\" \"}\r\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"www.spacex.com\">\r\n            SpaceX\r\n          </a>{\" \"}\r\n          providing satellite Internet access.\r\n        </h3>\r\n        <h4>Starlinks on the orbit: {props.starlinks.docs.length}</h4>\r\n      </div>\r\n      {globe}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    starlinks: state.starlink.starlinks,\r\n    loadingStarlinks: state.starlink.loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onFetchStarlink: () => dispatch(fetchStarlink()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Starlink);\r\n"],"sourceRoot":""}